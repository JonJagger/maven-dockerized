
Setting Up The TeamCity Build Pipe
==================================

You will need your NEW ip address for this...

Part 1: edit TeamCity Project

In Version Control Settings
Ensure [Clean build]: is checked

Build-step #2 (SSH Upload) needs to become
Target: YOUR_IP_ADDRESS:sh

Build-step #3 (SSH) needs to become
Target: YOUR_IP_ADDRESS

Confirm the [Commands:] entry for build-step #3 is
sh/team_city_cd_pipe.sh

---------------------------------------------------------

Part 2: edit your source

finish, add, commit, push your current piece of work. Then

git clone https://github.com/JonJagger/maven-dockerized.git

1. replace /sh in your repo with its sh/
   edit the top three environment variables
   JAR_FILENAME
   PROJECT_NAME
   APP_PORT
   in the file sh/env-vars.sh as per its comments.

2. add its /Dockerfile to your repo's root dir
   (if you already have a Dockerfile, replace it)

3. add its /start.sh to your repo's root dir
   (if you already have a start.sh, replace it)

4. edit /src/main/resources/application.properties
Make sure it has one server.port entry set to 80
server.port=80

---------------------------------------------------------

Part 3: Check it works!

git add your changes
git commit your changes
git push your changes

if the TeamCity build step goes through ok your app should be
running on YOUR_IP_ADDRESS/your-home-page.html






